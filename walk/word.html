<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Multiverse of Us</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --text-primary: rgba(255, 255, 255, 0.95);
            --text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            --bg-primary: #0a0a2a;
            --bg-secondary: #000;
        }

        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
            background: #000;
            font-family: 'Cormorant Garamond', serif;
            color: var(--text-primary);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #universe {
            position: fixed;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, var(--bg-primary) 0%, var(--bg-secondary) 100%);
        }

        #particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .content-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }

        .text-overlay {
            position: absolute;
            width: min(90%, 800px);
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
        }

        .text-overlay.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .text-content {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            line-height: 1.6;
            font-weight: 300;
            text-shadow: var(--text-shadow);
            letter-spacing: 0.05em;
            padding: 2rem;
        }

        .text-content strong {
            font-family: 'Cinzel', serif;
            font-weight: 700;
            color: #fff;
        }

        .timeline {
            position: absolute;
            bottom: 5vh;
            left: 50%;
            transform: translateX(-50%);
            width: min(90%, 600px);
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            z-index: 1;
        }

        .timeline-progress {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255,255,255,0.5), #fff);
            box-shadow: 0 0 20px rgba(255,255,255,0.8);
            transition: width 0.5s linear;
        }

        .quantum-particle {
            position: absolute;
            width: min(1vw, 4px);
            height: min(1vw, 4px);
            background: #fff;
            border-radius: 50%;
            opacity: 0;
            filter: blur(1px);
            box-shadow: 0 0 10px rgba(255,255,255,0.8);
        }

        #start-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px 40px;
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            color: white;
            background: transparent;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 2;
        }

        #start-button:hover {
            background: rgba(255,255,255,0.1);
            transform: translate(-50%, -50%) scale(1.05);
        }

        @media (max-width: 768px) {
            .text-content {
                font-size: clamp(1.2rem, 5vw, 1.8rem);
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div id="universe">
        <div id="particles"></div>
        <button id="start-button">Begin Journey</button>
        <div class="content-container">
            <div class="text-overlay" id="text1">
                <div class="text-content">
                    In quantum mechanics, <strong>Schrödinger</strong> proposed that until observed, 
                    a particle exists in all possible states simultaneously...
                </div>
            </div>
            <div class="text-overlay" id="text2">
                <div class="text-content">
                    But what if it wasn't just particles? What if our <strong>choices</strong>, our 
                    <strong>decisions</strong>, our very lives existed in multiple states...
                </div>
            </div>
            <div class="text-overlay" id="text3">
                <div class="text-content">
                    Creating infinite branches of reality, endless possibilities of what could be...
                </div>
            </div>
        </div>
        <div class="timeline">
            <div class="timeline-progress" id="progress"></div>
        </div>
    </div>

    <script>
        class AudioEngine {
            constructor() {
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                this.masterGain = this.audioContext.createGain();
                this.masterGain.connect(this.audioContext.destination);
                this.reverb = this.audioContext.createConvolver();
                this.createReverb();
            }

            async createReverb() {
                const reverbTime = 3;
                const rate = this.audioContext.sampleRate;
                const length = rate * reverbTime;
                const impulse = this.audioContext.createBuffer(2, length, rate);
                const left = impulse.getChannelData(0);
                const right = impulse.getChannelData(1);

                for (let i = 0; i < length; i++) {
                    const decay = Math.exp(-i / rate);
                    left[i] = (Math.random() * 2 - 1) * decay;
                    right[i] = (Math.random() * 2 - 1) * decay;
                }

                this.reverb.buffer = impulse;
                this.reverb.connect(this.masterGain);
            }

            createCosmicAmbience() {
                // Deep bass drone
                const drone = this.audioContext.createOscillator();
                const droneGain = this.audioContext.createGain();
                drone.type = 'sine';
                drone.frequency.setValueAtTime(55, this.audioContext.currentTime);
                droneGain.gain.setValueAtTime(0.1, this.audioContext.currentTime);
                drone.connect(droneGain);
                droneGain.connect(this.reverb);

                // Cosmic pad
                const pad = this.audioContext.createOscillator();
                const padGain = this.audioContext.createGain();
                pad.type = 'sine';
                pad.frequency.setValueAtTime(220, this.audioContext.currentTime);
                padGain.gain.setValueAtTime(0.05, this.audioContext.currentTime);
                pad.connect(padGain);
                padGain.connect(this.reverb);

                // Sparkle effects
                setInterval(() => {
                    if (Math.random() > 0.9) {
                        const sparkle = this.audioContext.createOscillator();
                        const sparkleGain = this.audioContext.createGain();
                        sparkle.type = 'sine';
                        sparkle.frequency.setValueAtTime(1000 + Math.random() * 2000, this.audioContext.currentTime);
                        sparkleGain.gain.setValueAtTime(0, this.audioContext.currentTime);
                        sparkleGain.gain.linearRampToValueAtTime(0.02, this.audioContext.currentTime + 0.1);
                        sparkleGain.gain.linearRampToValueAtTime(0, this.audioContext.currentTime + 0.3);
                        sparkle.connect(sparkleGain);
                        sparkleGain.connect(this.reverb);
                        sparkle.start();
                        sparkle.stop(this.audioContext.currentTime + 0.3);
                    }
                }, 1000);

                // Slow cosmic swooshes
                setInterval(() => {
                    if (Math.random() > 0.7) {
                        const swoosh = this.audioContext.createOscillator();
                        const swooshGain = this.audioContext.createGain();
                        const filter = this.audioContext.createBiquadFilter();
                        filter.type = 'lowpass';
                        filter.frequency.setValueAtTime(200, this.audioContext.currentTime);
                        filter.frequency.linearRampToValueAtTime(2000, this.audioContext.currentTime + 2);
                        swoosh.type = 'sawtooth';
                        swoosh.frequency.setValueAtTime(100, this.audioContext.currentTime);
                        swooshGain.gain.setValueAtTime(0, this.audioContext.currentTime);
                        swooshGain.gain.linearRampToValueAtTime(0.1, this.audioContext.currentTime + 1);
                        swooshGain.gain.linearRampToValueAtTime(0, this.audioContext.currentTime + 3);
                        swoosh.connect(filter);
                        filter.connect(swooshGain);
                        swooshGain.connect(this.reverb);
                        swoosh.start();
                        swoosh.stop(this.audioContext.currentTime + 3);
                    }
                }, 5000);

                drone.start();
                pad.start();

                return { drone, pad, droneGain, padGain };
            }
        }

        class CosmicVoice {
            constructor() {
                this.synth = window.speechSynthesis;
            }

            speak(text) {
                return new Promise(resolve => {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.rate = 0.7;
                    utterance.pitch = 0.6;
                    utterance.volume = 0.9;

                    const voices = this.synth.getVoices();
                    const deepVoice = voices.find(voice => 
                        voice.name.toLowerCase().includes('male') || 
                        voice.name.toLowerCase().includes('deep')
                    );

                    if (deepVoice) {
                        utterance.voice = deepVoice;
                    }

                    utterance.onend = resolve;
                    this.synth.speak(utterance);
                });
            }
        }

        class CosmicIntro {
            constructor() {
                this.currentTextIndex = 0;
                this.texts = document.querySelectorAll('.text-overlay');
                this.progress = document.getElementById('progress');
                this.particles = [];
                this.isPlaying = false;
                this.audioEngine = new AudioEngine();
                this.cosmicVoice = new CosmicVoice();
                this.startButton = document.getElementById('start-button');
                this.setupEventListeners();
            }

            setupEventListeners() {
                this.startButton.addEventListener('click', () => this.start());
            }

            start() {
                this.startButton.style.display = 'none';
                this.isPlaying = true;
                this.setupParticles();
                this.startSequence();
                this.animateParticles();
                this.ambience = this.audioEngine.createCosmicAmbience();
            }

            setupParticles() {
                const particleCount = window.innerWidth < 768 ? 50 : 100;
                const particlesContainer = document.getElementById('particles');
                
                for(let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'quantum-particle';
                    particle.style.left = Math.random() * 100 + 'vw';
                    particle.style.top = Math.random() * 100 + 'vh';
                    particlesContainer.appendChild(particle);
                    this.particles.push(particle);
                    this.animateParticle(particle);
                }
            }

            async startSequence() {
                const texts = [
                    "In quantum mechanics, Schrödinger proposed that until observed, a particle exists in all possible states simultaneously...",
                    "But what if it wasn't just particles? What if our choices, our decisions, our very lives existed in multiple states...",
                    "Creating infinite branches of reality, endless possibilities of what could be..."
                ];

                for(let i = 0; i < texts.length; i++) {
                    if(!this.isPlaying) break;
                    
                    if(i > 0) {
                        this.texts[i-1].classList.remove('visible');
                    }
                    
                    this.texts[i].classList.add('visible');
                    this.progress.style.width = (i / (texts.length - 1) * 100) + '%';
                    
                    await this.cosmicVoice.speak(texts[i]);
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
            }

            animateParticle(particle) {
                const duration = 3000 + Math.random() * 2000;
                particle.style.transition = `opacity ${duration}ms ease`;
                
                const animate = () => {
                    if (!this.isPlaying) return;
                    
                    particle.style.opacity = '0';
                    setTimeout(() => {
                        if (!this.isPlaying) return;
                        
                        particle.style.left = Math.random() * 100 + 'vw';
                        particle.style.top = Math.random() * 100 + 'vh';
                        particle.style.opacity = '1';
                        setTimeout(() => animate(), duration);
                    }, duration);
                };
                
                animate();
            }

            animateParticles() {
                if (!this.isPlaying) return;

                requestAnimationFrame(() => this.animateParticles());
                this.particles.forEach(particle => {
                    const rect = particle.getBoundingClientRect();
                    if(rect.top < 0 || rect.left < 0 || 
                       rect.right